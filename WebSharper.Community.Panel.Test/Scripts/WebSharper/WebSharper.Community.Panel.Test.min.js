(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;a=window.WebSharper=window.WebSharper||{};b=a.Community=a.Community||{};c=b.Panel=b.Panel||{};d=c.Test=c.Test||{};e=d.Client=d.Client||{};f=e.ContentItem=e.ContentItem||{};g=e.ContentModel=e.ContentModel||{};h=window.StartupCode$WebSharper_Community_Panel_Test$Client=window.StartupCode$WebSharper_Community_Panel_Test$Client||{};i=window.IntelliFactory;j=i&&i.Runtime;k=a&&a.UI;l=k&&k.Next;m=l&&l.Doc;n=l&&l.ListModel;o=a&&a.List;p=l&&l.AttrModule;q=l&&l.View;r=c&&c.Helper;s=l&&l.Var;t=c&&c.PanelContainer;u=c&&c.LayoutManagers;v=c&&c.Panel;w=c&&c.TitleButton;x=b&&b.PropertyGrid;y=x&&x.Properties;z=x&&x.PropertyGrid;A=c&&c.Dialog;f.New=function(B){return{Text:B};};g=e.ContentModel=j.Class({get_Render:function(){return m.ConvertBy(this.Items.key,function(B){return m.Element("div",[],[m.TextNode(B.Text)]);},this.Items.v);}},null,g);g.get_Create=function(){return g.New(n.Create(function(B){return B.Text;},o.ofArray([f.New("Content 1")])));};g.New=function(B){return new g({Items:B});};e.Main=function(){return m.Element("div",[],[m.Element("div",[p.DynamicStyle("pointer-events",q.Map(function(){return e.dlg().Visibility.c?"none":"auto";},e.dlg().Visibility.v)),p.DynamicStyle("opacity",q.Map(function(){return e.dlg().Visibility.c?"0.5":"1";},e.dlg().Visibility.v))],[m.Element("table",[],[m.Element("tr",[],[m.Element("td",[p.Style("vertical-align","top"),p.DynamicStyle("Width",q.Map(function(B){return B?"100px":"0px";},e.isExpanded().v))],[m.Element("table",[],[m.Element("tr",[],[m.Element("td",[],[r.IconNormal("dehaze",function(){if(!e.isExpanded().c)s.Set(e.isExpanded(),true);else s.Set(e.isExpanded(),false);})])]),m.Element("tr",[],[m.Element("td",[],[r.IconNormal("announcement",function(){var B;B=m.Element("div",[],[m.TextNode("Content")]);e.dlg().ShowDialog("Dialog title",B,function(){});})]),m.Element("td",[p.DynamicStyle("display",q.Map(function(){return!e.isExpanded().c?"none":"block";},e.isExpanded().v)),p.Style("color","White"),p.Style("margin-left","15px"),p.Style("Width","75px")],[m.TextNode("Dialog")])]),m.Element("tr",[],[m.Element("td",[],[r.IconNormal("add",function(){var B,C,D,E,F;B=o.ofSeq(e.panelContainer().PanelItems).get_Length()+1;C=t.get_Create().WithLayoutManager(u.StackPanelLayoutManager());D=g.get_Create();C.AddPanel(v.get_Create().WithTitle(false).WithPannelAttrs([p.Class("panelContent")]).WithPanelContent(D.get_Render()).WithWidth(150).WithHeight(150));E=s.Create$1("Panel "+window.String(B));F=v.get_Create().WithPannelAttrs([p.Style("position","absolute")]).WithTitleContent(m.TextView(E.v)).WithTitleButtons(o.ofArray([w.New("add",function(){var G,H;G=o.ofSeq(D.Items).get_Length();G<7?D.Items.Append(f.New("Content "+(H=G+1,window.String(H)))):void 0;}),w.New("edit",function(G){G.EditProperties(e.propertyGrid());}),w.New("clear",function(G){e.panelContainer().PanelItems.Remove(e.panelContainer().FindPanelItem(G));})])).WithChildPanelContainer(C).WithWidth(150).WithProperties(o.ofArray([y.string("title1",E)]));e.panelContainer().AddPanel(F);})]),m.Element("td",[p.DynamicStyle("display",q.Map(function(){return!e.isExpanded().c?"none":"block";},e.isExpanded().v)),p.Style("color","White"),p.Style("margin-left","15px"),p.Style("Width","75px")],[m.TextNode("Add Panel")])])]),m.Element("table",[],[m.Element("tr",[],[m.Element("td",[],[e.propertyGrid().get_Render()])])])]),m.Element("td",[],[e.panelContainer().get_Render()])])])]),m.Element("div",[],[m.Element("table",[],[m.Element("tr",[],[m.Element("td",[],[e.dlg().get_Render()])])])])]);};e.isExpanded=function(){h.$cctor();return h.isExpanded;};e.dlg=function(){h.$cctor();return h.dlg;};e.propertyGrid=function(){h.$cctor();return h.propertyGrid;};e.panelContainer=function(){h.$cctor();return h.panelContainer;};h.$cctor=j.Cctor(function(){h.panelContainer=t.get_Create().WithWidth(800).WithHeight(400).WithLayoutManager(u.FloatingPanelLayoutManager(5)).WithAttributes([p.Style("border","1px solid white")]);h.propertyGrid=z.get_Create();h.dlg=A.get_Create();h.isExpanded=s.Create$1(false);h.$cctor=window.ignore;});}());
