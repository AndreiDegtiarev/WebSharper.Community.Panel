(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;a=window;b=a.WebSharper=a.WebSharper||{};c=b.Community=b.Community||{};d=c.Panel=c.Panel||{};e=d.Test=d.Test||{};f=e.Client=e.Client||{};g=f.ContentItem=f.ContentItem||{};h=f.ContentModel=f.ContentModel||{};i=a.StartupCode$WebSharper_Community_Panel_Test$Client=a.StartupCode$WebSharper_Community_Panel_Test$Client||{};j=a.IntelliFactory;k=j&&j.Runtime;l=b&&b.UI;m=l&&l.Next;n=m&&m.Doc;o=m&&m.ListModel;p=b&&b.List;q=m&&m.AttrModule;r=m&&m.View;s=d&&d.Helper;t=m&&m.Var;u=d&&d.PanelContainer;v=d&&d.LayoutManagers;w=d&&d.Panel;x=d&&d.TitleButton;y=c&&c.PropertyGrid;z=y&&y.Properties;A=y&&y.PropertyGrid;B=d&&d.Dialog;g.New=function(C){return{Text:C};};h=f.ContentModel=k.Class({get_Render:function(){return n.ConvertBy(this.Items.key,function(C){return n.Element("div",[],[n.TextNode(C.Text)]);},this.Items.v);}},null,h);h.get_Create=function(){return h.New(o.Create(function(C){return C.Text;},p.ofArray([g.New("Content 1")])));};h.New=function(C){return new h({Items:C});};f.Main=function(){return n.Element("div",[],[n.Element("div",[q.DynamicStyle("pointer-events",r.Map(function(){return f.dlg().Visibility.c?"none":"auto";},f.dlg().Visibility.v)),q.DynamicStyle("opacity",r.Map(function(){return f.dlg().Visibility.c?"0.5":"1";},f.dlg().Visibility.v))],[n.Element("table",[],[n.Element("tr",[],[n.Element("td",[q.Style("vertical-align","top"),q.DynamicStyle("Width",r.Map(function(C){return C?"100px":"0px";},f.isExpanded().v))],[n.Element("table",[],[n.Element("tr",[],[n.Element("td",[],[s.IconNormal("dehaze",function(){if(!f.isExpanded().c)t.Set(f.isExpanded(),true);else t.Set(f.isExpanded(),false);})])]),n.Element("tr",[],[n.Element("td",[],[s.IconNormal("announcement",function(){var C;C=n.Element("div",[],[n.TextNode("Content")]);f.dlg().ShowDialog("Dialog title",C,a.ignore);})]),n.Element("td",[q.DynamicStyle("display",r.Map(function(){return!f.isExpanded().c?"none":"block";},f.isExpanded().v)),q.Style("color","White"),q.Style("margin-left","15px"),q.Style("Width","75px")],[n.TextNode("Dialog")])]),n.Element("tr",[],[n.Element("td",[],[s.IconNormal("add",function(){var C,D,E,F,G;C=p.ofSeq(f.panelContainer().PanelItems).get_Length()+1;D=u.get_Create().WithLayoutManager(v.StackPanelLayoutManager());E=h.get_Create();D.AddPanel(w.get_Create().WithTitle(false).WithPannelAttrs([q.Class("panelContent")]).WithPanelContent(E.get_Render()).WithWidth(150).WithHeight(150));F=t.Create$1("Panel "+a.String(C));G=w.get_Create().WithPannelAttrs([q.Style("position","absolute")]).WithTitleContent(n.TextView(F.v)).WithTitleButtons(p.ofArray([x.New("add",function(){var H,I;H=p.ofSeq(E.Items).get_Length();H<7?E.Items.Append(g.New("Content "+(I=H+1,a.String(I)))):void 0;}),x.New("edit",function(H){H.EditProperties(f.propertyGrid());}),x.New("clear",function(H){f.panelContainer().PanelItems.Remove(f.panelContainer().FindPanelItem(H));})])).WithChildPanelContainer(D).WithWidth(150).WithProperties(p.ofArray([z.string("title1",F)]));f.panelContainer().AddPanel(G);})]),n.Element("td",[q.DynamicStyle("display",r.Map(function(){return!f.isExpanded().c?"none":"block";},f.isExpanded().v)),q.Style("color","White"),q.Style("margin-left","15px"),q.Style("Width","75px")],[n.TextNode("Add Panel")])])]),n.Element("table",[],[n.Element("tr",[],[n.Element("td",[],[f.propertyGrid().get_Render()])])])]),n.Element("td",[],[f.panelContainer().get_Render()])])])]),n.Element("div",[],[n.Element("table",[],[n.Element("tr",[],[n.Element("td",[],[f.dlg().get_Render()])])])])]);};f.isExpanded=function(){i.$cctor();return i.isExpanded;};f.dlg=function(){i.$cctor();return i.dlg;};f.propertyGrid=function(){i.$cctor();return i.propertyGrid;};f.panelContainer=function(){i.$cctor();return i.panelContainer;};i.$cctor=k.Cctor(function(){i.panelContainer=u.get_Create().WithWidth(800).WithHeight(400).WithLayoutManager(v.FloatingPanelLayoutManager(5)).WithAttributes([q.Style("border","1px solid white")]);i.propertyGrid=A.get_Create();i.dlg=B.get_Create();i.isExpanded=t.Create$1(false);i.$cctor=a.ignore;});}());
